<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>系统日志信息</h2>
        <ol class="breadcrumb">
            <li><a href="/">Home</a></li>
        </ol>
    </div>
    <div class="col-lg-2"></div>
</div>

<div class="animated fadeInRight">
    <div class="wrapper wrapper-content" ng-controller="systemLogCtrl">
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <div class="sk-spinner sk-spinner-cube-grid">
                                <div class="sk-cube"></div>
                                <div class="sk-cube"></div>
                                <div class="sk-cube"></div>
                                <div class="sk-cube"></div>
                                <div class="sk-cube"></div>
                                <div class="sk-cube"></div>
                                <div class="sk-cube"></div>
                                <div class="sk-cube"></div>
                                <div class="sk-cube"></div>
                        </div>
                        <div class="row">
                                <div class="col-sm-6 col-md-6 col-lg-3">
                                    <div class="form-group form-group-sm">
                                        <div class="input-group">
                                            <span class="input-group-addon">日志类型:</span>
                                            <select class="form-control b-r-sm" ng-model="pageSearch.type">
                                                <option value=""></option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-lg-3">
                                    <div class="form-group form-group-sm">
                                        <div class="input-group">
                                            <span class="input-group-addon">方法描述: </span>
                                            <input type="text" class="form-control" ng-model="pageSearch.methodDescription">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-lg-3">
                                    <div class="form-group form-group-sm">
                                        <div class="input-group">
                                            <span class="input-group-addon">操作人: </span>
                                            <input type="text" class="form-control" ng-model="pageSearch.operator">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-lg-3">
                                    <div class="form-group form-group-sm">
                                        <div class="input-group">
                                            <span class="input-group-addon">开始时间: </span>
                                            <input type="text" class="form-control" ng-readonly="true" uib-datepicker-popup="{{format}}" ng-model="pageSearch.startTime" is-open="startOptions" datepicker-options="startDateOptions" close-text="关闭" current-text="今天" clear-text="清空">
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-default btn-sm no-margins" ng-click="openStartOptions()"><i class="glyphicon glyphicon-calendar"></i></button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-lg-3">
                                    <div class="form-group form-group-sm">
                                        <div class="input-group">
                                            <span class="input-group-addon">结束时间: </span>
                                            <input type="text" class="form-control" ng-readonly="true" uib-datepicker-popup="{{format}}"  ng-model="pageSearch.endTime" is-open="endOptions" datepicker-options="endDateOptions" close-text="关闭" current-text="今天" clear-text="清空">
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-default btn-sm no-margins" ng-click="openEndOptions()"><i class="glyphicon glyphicon-calendar"></i></button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                        </div>
                        <div class="row">
                                <div class="col-sm-6 col-md-6 col-lg-3 col-lg-offset-3">
                                    <button class="btn btn-sm btn-w-m btn-primary pull-right" ng-click="search()">
                                        查询
                                    </button>
                                </div>
                                <div class="col-sm-6 col-md-6 col-lg-3">
                                    <button class="btn btn-sm btn-w-m btn-info" ng-click="reset()">
                                        重置
                                    </button>
                                </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="table-responsive">
                            <table ng-table="systemLogTable" class="table table-condensed table-bordered table-striped">
                                <tr ng-repeat="row in $data">
                                    <td class="text-center" data-title="'操作人'">
                                        {{ row.operator }}
                                    </td>
                                    <td class="text-center" data-title="'日志类型'">
                                        {{ row.type }}
                                    </td>
                                    <td class="text-center" data-title="'方法描述'">
                                        {{ row.methodDescription }}
                                    </td>
                                    <td class="text-center" style="max-width: 100px" data-title="'异常信息'">
                                        <div class="hidden-text">
                                            {{ row.message }}
                                        </div>
                                    </td>
                                    <td class="text-center" data-title="'方法名'">
                                        {{ row.methodName }}
                                    </td>
                                    <td class="text-center" data-title="'用户IP'">
                                        {{ row.requestIp }}
                                    </td>
                                    <td class="text-center" data-title="'URL'">
                                        {{ row.requestUrl }}
                                    </td>
                                    <td class="text-center" data-title="'操作时间'">
                                        {{ row.startTime | date: 'yyyy-MM-dd HH:mm:ss'}}
                                    </td>
                                    <td class="text-center" data-title="'方法用时'">
                                        {{ row.spendTime / 1000 + 's' }}
                                    </td>
                                </tr>
                            </table>
                            <page-pagination table-param="systemLogTable"></page-pagination>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

